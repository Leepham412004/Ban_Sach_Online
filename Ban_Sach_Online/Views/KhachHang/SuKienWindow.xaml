<Window x:Class="Ban_Sach_Online.Views.KhachHang.SuKienWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:views="clr-namespace:Ban_Sach_Online.Views.KhachHang"
        mc:Ignorable="d"
        Title="Sự kiện - Giảm giá sách" Height="720" Width="1280"
        WindowStartupLocation="CenterScreen"
        Background="#FFF9F9F9">

    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="20">

            <!-- Tiêu đề -->
            <TextBlock Text="🎉 Sách Ngày Đôi - Giảm Giá Đặc Biệt 🎁"
                       FontSize="28"
                       FontWeight="Bold"
                       Foreground="#E53935"
                       Margin="0 10 0 30"
                       TextAlignment="Center"/>

            <ItemsControl x:Name="DanhSachSach">
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <WrapPanel Orientation="Horizontal" HorizontalAlignment="Center"/>
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>

                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Border MouseLeftButtonUp="Sach_Click"
                                Cursor="Hand"
                                Margin="10"
                                Background="White"
                                CornerRadius="8"
                                Width="180"
                                Height="300"
                                BorderBrush="#DDD"
                                BorderThickness="1"
                                Padding="8">    
                            <Border.Effect>
                                <DropShadowEffect Color="Black"
                                      BlurRadius="8"
                                      ShadowDepth="2"
                                      Opacity="0.25"/>
                            </Border.Effect>

                            <Border.Style>
                                <Style TargetType="Border">
                                    <Setter Property="RenderTransform">
                                        <Setter.Value>
                                            <ScaleTransform ScaleX="1" ScaleY="1"/>
                                        </Setter.Value>
                                    </Setter>
                                    <Style.Triggers>
                                        <!-- Hiệu ứng hover -->
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter Property="Background" Value="#FFF8F8F8"/>
                                            <Setter Property="BorderBrush" Value="#E53935"/>
                                            <Setter Property="RenderTransform">
                                                <Setter.Value>
                                                    <ScaleTransform ScaleX="1.03" ScaleY="1.03"/>
                                                </Setter.Value>
                                            </Setter>
                                        </Trigger>
                                    </Style.Triggers>
                                </Style>
                            </Border.Style>

                            <StackPanel>
                                <Image Source="{Binding HinhAnhBitmap}"
                                       Width="160" Height="200"
                                       Stretch="UniformToFill"
                                       Margin="0,0,0,5"/>
                                <TextBlock Text="{Binding TenSach}"
                                           FontWeight="Bold"
                                           TextWrapping="NoWrap"
                                           TextTrimming="CharacterEllipsis"
                                           TextAlignment="Center"
                                           Margin="0,5,0,0">
                                    <TextBlock.ToolTip>
                                        <ToolTip Content="{Binding TenSach}"/>
                                    </TextBlock.ToolTip>
                                </TextBlock>

                                <TextBlock Text="{Binding Gia, StringFormat={}{0:N0} đ}"
                                           Foreground="Red"
                                           FontWeight="SemiBold"
                                           TextAlignment="Center"/>

                                <TextBlock Text="{Binding SoLuongDaBan, StringFormat=Đã bán: {0} cuốn}"
                                           FontSize="12"
                                           Foreground="Gray"
                                           TextAlignment="Center"
                                           Margin="0,2,0,0"/>
                            </StackPanel>
                        </Border>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
        </StackPanel>
    </ScrollViewer>
</Window>
